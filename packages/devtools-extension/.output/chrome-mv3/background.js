var background=(function(){"use strict";var i,a;function d(n){return n==null||typeof n=="function"?{main:n}:n}const s=(a=(i=globalThis.browser)==null?void 0:i.runtime)!=null&&a.id?globalThis.browser:globalThis.chrome,b=d(()=>{const n=new Map;s.runtime.onConnect.addListener(e=>{if(!e.name.startsWith("hurum-panel-"))return;const r=parseInt(e.name.replace("hurum-panel-",""),10);isNaN(r)||(n.set(r,e),e.onDisconnect.addListener(()=>{n.delete(r)}))}),s.runtime.onMessage.addListener((e,r)=>{var l;if(!((l=r.tab)!=null&&l.id))return;const u=r.tab.id,c=n.get(u);c&&c.postMessage({...e,tabId:u})})});function h(){}function t(n,...e){}const f={debug:(...n)=>t(console.debug,...n),log:(...n)=>t(console.log,...n),warn:(...n)=>t(console.warn,...n),error:(...n)=>t(console.error,...n)};let o;try{o=b.main(),o instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(n){throw f.error("The background crashed on startup!"),n}var g=o;return g})();
